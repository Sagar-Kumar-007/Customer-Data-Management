<div class="main">
    <div class="topbar">
        <div class="toggle" (click)="onToggleClick()">
            <i class="fa-solid fa-bars" style="color: #000000;"></i>
        </div>

        <div class="search">
            <label>
                <input type="text" placeholder="Search here" #data (keyup)="searchVal(data)">
                <i class="fa fa-solid fa-magnifying-glass"></i>
            </label>
        </div>

        <div class="user">
            <img src="https://www.pngplay.com/wp-content/uploads/7/Customer-Logo-Transparent-File.png" alt="">
        </div>
    </div>

    <!-- ======================= Cards ================== -->
    <div class="cardBox">
        <div class="card">
            <div>
                <div class="numbers">{{totalAccounts}}</div>
                <div class="cardName">Accounts</div>
            </div>

            <div class="iconBx">
                <!-- <ion-icon name="eye-outline"></ion-icon> -->
            </div>
        </div>

        <div class="card">
            <div>
                <div class="numbers">{{totalRevenue}}</div>
                <div class="cardName">Total Revenue (In Cr)</div>
            </div>

            <div class="iconBx">
                <!-- <ion-icon name="cart-outline"></ion-icon> -->
            </div>
        </div>

        <div class="card">
            <!-- <div>
                <div class="numbers">284</div>
                <div class="cardName">Comments</div>
            </div>

            <div class="iconBx">
                <ion-icon name="chatbubbles-outline"></ion-icon>
            </div> -->
            <div class="piechart-revenue">

                <canvas baseChart [type]="'pie'" [datasets]="pieChartDatasets" [labels]="pieChartLabels"
                    [options]="pieChartOptions" [plugins]="pieChartPlugins" [legend]="pieChartLegend">
                </canvas>
            </div>
            <div class="cardName">Accounts Revenue Chart <br> (In Cr)</div>
        </div>

        <!-- <div class="card">
            <div>
                <div class="numbers">$7,842</div>
                <div class="cardName">Earning</div>
            </div>

            <div class="iconBx">
                <ion-icon name="cash-outline"></ion-icon>
            </div>
        </div> -->
    </div>

    <!-- ================ Order Details List ================= -->
    <div class="details">
        <div class="recentOrders">
            <div class="cardHeader">
                <h2>Accounts</h2>
                <a href="#" class="btn">View All</a>
            </div>

            <table class="account-table">
                <thead class="account-head">
                    <tr>
                        <td>Name</td>
                        <td>Establishment</td>
                        <td>Location</td>
                        <td>Update</td>
                        <td>Delete</td>
                    </tr>
                </thead>

                <tbody>
                    <ng-template [ngIf]="accountsList!=undefined">
                        <tr class="accounts-tr"  *ngFor="let account of accountsList | paginate : { itemsPerPage: itemsPerPage, currentPage: p }">
                            <td>{{account['aname']}}</td>
                            <td>{{account['estYear']}}</td>
                            <td>{{account.location?.address}}</td>
                            <!-- Change id to email in updateAccount and deleteAccount -->
                            <td class="update-icon"><span (click)="updateAccount(account)"><i class="fa-solid fa-pencil" style="color: #ffc400;" title="update-account"></i></span></td>
                            <td class="delete-icon"><span (click)="deleteAccount(account, account.aname)" ><i class="fa-solid fa-trash" style="color: #a80000;" title="delete-account"></i></span></td>
                        </tr>
                    </ng-template>
                </tbody>
            </table>
        </div>
    </div>

    <div class="paginationclass">
        <pagination-controls (pageChange)="p = $event"></pagination-controls>
      </div>
</div>